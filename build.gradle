buildscript {
    repositories {
        google()
        jcenter()
        mavenLocal()
    }

    ext {
        versions = [
                'androidGradlePlugin'     : '3.6.1',          // https://developer.android.com/studio/releases/gradle-plugin.html
                'androidx' : [
                    'constraintLayout'     : '1.1.3',          // https://developer.android.com/jetpack/androidx/releases
                    'appCompat'            : '1.1.0-rc01',     // https://developer.android.com/jetpack/androidx/releases
                    'coreKtx'              : '1.1.0',          // https://developer.android.com/jetpack/androidx/releases
                    'test' : [
                        'core'             : '1.1.0'     ,     // https://developer.android.com/jetpack/androidx/releases
                        'espresso'         : '3.1.1',          // https://developer.android.com/jetpack/androidx/releases
                        'junit'            : '1.1.0',          // https://developer.android.com/jetpack/androidx/releases
                        'rules'            : '1.1.1',          // https://developer.android.com/jetpack/androidx/releases
                        'runner'           : '1.1.1',          // https://developer.android.com/jetpack/androidx/releases
                    ]
                ],
                'bintray'                 : '1.8.4',          // https://github.com/bintray/gradle-bintray-plugin/releases
                'dokka'                   : '0.10.0',         // https://github.com/Kotlin/dokka/releases
                'kotlin'                  : '1.3.70',         // https://kotlinlang.org/
                'ktlint'                  : '0.34.2',         // https://github.com/pinterest/ktlint
                'maven'                   : '2.0',            // https://github.com/dcendents/android-maven-gradle-plugin/releases
                'material'                : '1.1.0',          // https://material.io/develop/android/docs/getting-started/
                'mockito2'                : '2.28.2',         // https://github.com/mockito/mockito/releases
                'mockitoAndroid'          : '2.28.2',         // https://mvnrepository.com/artifact/org.mockito/mockito-android
                'mockitokotlin'           : '2.1.0',          // https://github.com/nhaarman/mockito-kotlin
                'testify'                 : '0.10.0',         // https://github.com/Shopify/android-testify/releases
        ]
        coreVersions = [
                'shopify': [
                        'compileSdk': 29,
                        'minSdk'    : 21,
                        'targetSdk' : 29
                ]
        ]
        depends = [
                'androidx': [
                        'appcompat'       : "androidx.appcompat:appcompat:${versions.androidx.appCompat}",
                        'constraintlayout': "androidx.constraintlayout:constraintlayout:${versions.androidx.constraintLayout}",
                        'core_ktx'        : "androidx.core:core-ktx:${versions.androidx.coreKtx}",
                        'test'            : [
                                'core'    : "androidx.arch.core:core-testing:${versions.androidx.test.core}",
                                'espresso': [
                                        'core'   : "androidx.test.espresso:espresso-core:${versions.androidx.test.espresso}",
                                        'contrib': "androidx.test.espresso:espresso-contrib:${versions.androidx.test.espresso}",
                                ],
                                'junit'   : "androidx.test.ext:junit:${versions.androidx.test.junit}",
                                'rules'   : "androidx.test:rules:${versions.androidx.test.rules}",
                                'runner'  : "androidx.test:runner:${versions.androidx.test.runner}",
                        ],
                ],
                'google'  : [
                        'material'    : "com.google.android.material:material:${versions.material}"
                ],
                'kotlin'  : [
                        'gradleplugin': "org.jetbrains.kotlin:kotlin-gradle-plugin:${versions.kotlin}",
                        'lint'         : [
                                'main': "com.pinterest:ktlint:${versions.ktlint}"
                        ],
                        'stdlib8'     : "org.jetbrains.kotlin:kotlin-stdlib-jdk8:${versions.kotlin}",
                ],
                'mockito' : [
                        'android': "org.mockito:mockito-android:${versions.mockitoAndroid}",
                        'kotlin': "com.nhaarman.mockitokotlin2:mockito-kotlin:${versions.mockitokotlin}",
                        'v2'    : "org.mockito:mockito-core:${versions.mockito2}"
                ]
        ]
    }

    dependencies {
        classpath "com.android.tools.build:gradle:${versions.androidGradlePlugin}"
        classpath "com.github.dcendents:android-maven-gradle-plugin:${versions.maven}"
        classpath "com.jfrog.bintray.gradle:gradle-bintray-plugin:${versions.bintray}"
        classpath "org.jetbrains.dokka:dokka-gradle-plugin:${versions.dokka}"
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:${versions.kotlin}"
    }
}

allprojects {
    repositories {
        mavenLocal()
        google()
        jcenter()
    }
}

task clean(type: Delete) {
    delete rootProject.buildDir
}
